---
title: 'Usage'
description: ''
---


## Overview

OpenAPI utilizes API keys for authentication. Obtain your API token by accessing our API interfaces. To access the OpenAI APIs, click the 'API' button located at the top of this page. [openAPI](https://akool.com/openapi).
- First, log in to our website.
- Next, click the profile icon in the upper right corner of the website, then select the "API Credentials" option to generate and save your key pair (clientId, clientSecret) for API access.
- Use the saved key pair to send a request to the API interface and obtain the access token.

<Tip>All API requests must include your API token in the HTTP header. A Bearer token usually consists of a random string of characters. It is formatted as the word "Bearer" followed by the token value, separated by a space. Here's the general format of a Bearer token:</Tip>
```
Authorization: Bearer {token}
```
<Tip>Here is an example of an actual Bearer token:</Tip>
```
Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYyYTA2Mjg1N2YzNWNjNTJlM2UxNzYyMCIsInR5cGUiOiJ1c2VyIiwiZnJvbSI6InRvYiIsImVtYWlsIjoiZ3VvZG9uZ2RvbmdAYWtvb2wuY29tIiwiZmlyc3ROYW1lIjoiZGQiLCJ1aWQiOjkwMzI4LCJjb2RlIjoiNTY1NCIsImlhdCI6MTczMjg2NzczMiwiZXhwIjoxNzMyODY3NzMzfQ._pilTnv8sPsrKCzrAyh9Lsvyge8NPxUG5Y_8CTdxad0
```

Remember, your API token is confidential! Do not share it with others or expose it in any client-side code (such as in the browser or application). Production requests must be routed through your own backend server, where your API token can be securely loaded from environment variables or a key management service.

## API

#### Get the token

```
POST https://openapi.akool.com/api/open/v3/getToken
```

**Body Attributes**

| **Parameter** | **Description**                             |
|---------------|---------------------------------------------|
| clientId      | Used to authorize request creation     |
| clientSecret  | Used to authorize request creation     |

**Response Attributes**

| **Parameter** | **Value** | **Description**                                      |
|---------------|-----------|------------------------------------------------------|
| code          | 1000      | API returns status code (1000:success) |
| token         |           | API token                                            |

<Note>Please note that the generated token is valid for more than 1 year.</Note>

### Example

**Body**

```json
{
  "clientId": "64db241f6d9e5c4bd136c187",
  "clientSecret": "openapi.akool.com"
}
```

**Request**

<CodeGroup>

```bash cURL
curl --location 'https://openapi.akool.com/api/open/v3/getToken' \
--header 'Content-Type: application/json' \
--data '{
  "clientId": "64db241f6d9e5c4bd136c187",
  "clientSecret": "openapi.akool.com"
}'
```

```java Java
OkHttpClient client = new OkHttpClient().newBuilder()
  .build();
MediaType mediaType = MediaType.parse("application/json");
RequestBody body = RequestBody.create(mediaType, "{\r\n    \"clientId\": \"64db241f6d9e5c4bd136c187\",\r\n    \"clientSecret\": \"openapi.akool.com\"\r\n}");
Request request = new Request.Builder()
  .url("https://openapi.akool.com/api/open/v3/getToken")
  .method("POST", body)
  .addHeader("Content-Type", "application/json")
  .build();
Response response = client.newCall(request).execute();
```

```javascript Javascript
const myHeaders = new Headers();
myHeaders.append("Content-Type", "application/json");

const raw = JSON.stringify({
  "clientId": "64db241f6d9e5c4bd136c187",
  "clientSecret": "openapi.akool.com"
});

const requestOptions = {
  method: "POST",
  headers: myHeaders,
  body: raw,
  redirect: "follow"
};

fetch("https://openapi.akool.com/api/open/v3/getToken", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error(error));
```

```PHP PHP
<?php
$client = new Client();
$headers = [
  'Content-Type' => 'application/json'
];
$body = '{
  "clientId": "64db241f6d9e5c4bd136c187",
  "clientSecret": "openapi.akool.com"
}';
$request = new Request('POST', 'https://openapi.akool.com/api/open/v3/getToken', $headers, $body);
$res = $client->sendAsync($request)->wait();
echo $res->getBody();
```

```python Python
import requests
import json

url = "https://openapi.akool.com/api/open/v3/getToken"

payload = json.dumps({
  "clientId": "64db241f6d9e5c4bd136c187",
  "clientSecret": "openapi.akool.com"
})
headers = {
  'Content-Type': 'application/json'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
```

</CodeGroup>

**Response**

```json
{
"code": 1000,
"token": "xxxxxxxxxxxxxxxx"
}
```

All API requests must include your API token in the HTTP header. A Bearer token typically consists of a random string of characters. The formal format is the keyword "Bearer" followed by the token value, separated by a space. The general structure of a Bearer token is as follows:
```
Authorization: Bearer {token}
```
Here is an example of an actual Bearer token:
```
Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYyYTA2Mjg1N2YzNWNjNTJlM2UxNzYyMCIsInR5cGUiOiJ1c2VyIiwiZnJvbSI6InRvYiIsImVtYWlsIjoiZ3VvZG9uZ2RvbmdAYWtvb2wuY29tIiwiZmlyc3ROYW1lIjoiZGQiLCJ1aWQiOjkwMzI4LCJjb2RlIjoiNTY1NCIsImlhdCI6MTczMjg2NzczMiwiZXhwIjoxNzMyODY3NzMzfQ._pilTnv8sPsrKCzrAyh9Lsvyge8NPxUG5Y_8CTdxad0
```

Remember, your API token is confidential. Do not share it with anyone or expose it in client-side code (such as a browser or application). For production requests, always route them through your backend server, where the API token should be securely loaded from environment variables or a key management service.

**Response Code Description**

<Note> Please note that if the value of the response code is not equal to 1000, the request is failed or wrong</Note>
| **Parameter** | **Value** | **Description**                                      |
|---------------|-----------|------------------------------------------------------|
| code          | 1000      | Request completed successfully |
| code          | 1101      | The authorization is invalid, or the token has expired  |
| code          | 1102      | Authorization field cannot be empty  |
| code          | 1200      | The account has been suspended or banned  |

