---
title: 'Face Swap'
description: ''
---
<Warning>The resources (image, video, voice) generated by our API are valid for 7 days. Please save the relevant resources as soon as possible to prevent expiration.</Warning>

<Info>
Experience our face swap technology in action by exploring our interactive demo on GitHub: [AKool Face Swap Demo](https://github.com/AKOOL-Official/akool-face-swap-demo).
</Info>

## Image Face Swap

```bash
POST https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyimage
```

**Request Headers**

| **Parameter**   | **Value**        | **Description**                             |
|-----------------|------------------|---------------------------------------------|
| Authorization   | Bearer `{token}` | Your API Key used for request authorization. [getToken](https://docs.akool.com/authentication/usage#get-the-token) |

**Body Attributes**

| **Parameter** | **Type** | **Value**                  | **Description**                                                                                                                                                                                                                                                                                                                                                                             |
|---------------|----------|----------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| targetImage   | Array    | `[{path:"",opts:""}]`      | A collection of faces detected in the original image, where each element in the array is an object containing two properties: path, which is a link to the detected face in the original image, and opts, which holds key information about the detected face. This information can be retrieved through the [https://sg3.akool.com/detect](https://docs.akool.com/ai-tools-suite/faceswap#face-detect) API, where the landmarks_str value returned by the API serves as the value for opts. |
| sourceImage   | Array    | `[{path:"",opts:""}]`      | Replacement target image information. (each array element is an object, and the object contains 2 properties, path:links to faces detected in target images.opts: key information of the face detected in the target image (you can get it through the face [https://sg3.akool.com/detect](https://docs.akool.com/ai-tools-suite/faceswap#face-detect) API, you can get the landmarks_str value returned by the API interface as the value of opts)          |
| face_enhance  | Int    |<p align="center">0 or 1</p>| Whether facial enhancement: "1" means open， "0" means close                                            |
| modifyImage   | String   |                            | Modify the link address of the image                                                                                                                                                                                                                                                                                                                                                        |
| webhookUrl    | String   |                            | Callback URL address based on HTTP request                                                                                                                                                                                                                                                                                                                                                  |

**Response Attributes**

| Parameter | Type   | Value                                               | Description                                                                             |
|-----------|--------|-----------------------------------------------------|-----------------------------------------------------------------------------------------|
| code      | Int  | <p align="center">1000</p>                          | API returns status code  (1000: success)                                                |
| msg       | String |                                                     | API returns status message                                                              |
| data      | Object | <p align="center">`{_id:"",url: "",job_id: ""}`</p> | _id: Interface returns data URL: faceswwap result URL job_id: Task processing unique id |

## Example

**Body**

```json
{
    "targetImage": [    // A collection of faces in the original image
        {
            "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1694593694387-4562-0-1694593694575-0526.png", // Links to faces detected in the original image
            "opts": "262,175:363,175:313,215:272,279" // Key information of faces detected in original pictures【You can get it through the face https://sg3.akool.com/detect API,You can get the landmarks_str value returned by the api interface as the value of opts
        }
    ],
    "sourceImage": [    // Replacement target image information
        {
            "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705462509874-9254-0-1705462510015-9261.png",  // Links to faces detected in target images
            "opts": "239,364:386,366:317,472:266,539"   // Key information of the face detected in the target image【You can get it through the face https://sg3.akool.com/detect API,You can get the landmarks_str value returned by the api interface as the value of opts
        }
    ],
    "face_enhance": 0,  // Whether facial enhancement: 1 means open， 0 means close
    "modifyImage": "https://d21ksh0k4smeql.cloudfront.net/bdd1c994c4cd7a58926088ae8a479168-1705462506461-1966.jpeg", // Modify the link address of the image
    "webhookUrl":"" // Callback url address based on HTTP request
}
```


**Request**

<CodeGroup>
  

```bash cURL
curl -X POST --location "https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyimage" \
    -H "Authorization: Bearer token" \
    -H "Content-Type: application/json" \
    -d '{
          "sourceImage": [
            {
              "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1694593694387-4562-0-1694593694575-0526.png",
              "opts": "262,175:363,175:313,215:272,279"
            }
          ],
          "targetImage": [
            {
              "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705462509874-9254-0-1705462510015-9261.png",
              "opts": "239,364:386,366:317,472:266,539"
            }
          ],
          "face_enhance": 0,
          "modifyImage": "https://d21ksh0k4smeql.cloudfront.net/bdd1c994c4cd7a58926088ae8a479168-1705462506461-1966.jpeg",
          "webhookUrl": ""
        }'
```

```java Java
OkHttpClient client = new OkHttpClient().newBuilder()
  .build();
MediaType mediaType = MediaType.parse("application/json");
RequestBody body = RequestBody.create(mediaType, "{\n    \"sourceImage\": [    \n        {\n            \"path\": \"https://d21ksh0k4smeql.cloudfront.net/crop_1694593694387-4562-0-1694593694575-0526.png\", \n            \"opts\": \"262,175:363,175:313,215:272,279\" \n        }\n    ],\n    \"targetImage\": [    \n        {\n            \"path\": \"https://d21ksh0k4smeql.cloudfront.net/crop_1705462509874-9254-0-1705462510015-9261.png\",  \n            \"opts\": \"239,364:386,366:317,472:266,539\"   \n        }\n    ],\n    \"face_enhance\": 0,  \n    \"modifyImage\": \"https://d21ksh0k4smeql.cloudfront.net/bdd1c994c4cd7a58926088ae8a479168-1705462506461-1966.jpeg\", \n    \"webhookUrl\":\"\" \n}");
Request request = new Request.Builder()
  .url("https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyimage")
  .method("POST", body)
  .addHeader("Authorization", "Bearer token")
  .addHeader("Content-Type", "application/json")
  .build();
Response response = client.newCall(request).execute();
```

```js Javascript
const myHeaders = new Headers();
myHeaders.append("Authorization", "Bearer token");
myHeaders.append("Content-Type", "application/json");

const raw = JSON.stringify({
  "sourceImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1694593694387-4562-0-1694593694575-0526.png",
      "opts": "262,175:363,175:313,215:272,279"
    }
  ],
  "targetImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705462509874-9254-0-1705462510015-9261.png",
      "opts": "239,364:386,366:317,472:266,539"
    }
  ],
  "face_enhance": 0,
  "modifyImage": "https://d21ksh0k4smeql.cloudfront.net/bdd1c994c4cd7a58926088ae8a479168-1705462506461-1966.jpeg",
  "webhookUrl": ""
});

const requestOptions = {
  method: "POST",
  headers: myHeaders,
  body: raw,
  redirect: "follow"
};

fetch("https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyimage", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error(error));
```

```php PHP  
<?php
$client = new Client();
$headers = [
  'Authorization' => 'Bearer token',
  'Content-Type' => 'application/json'
];
$body = '{
  "sourceImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1694593694387-4562-0-1694593694575-0526.png",
      "opts": "262,175:363,175:313,215:272,279"
    }
  ],
  "targetImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705462509874-9254-0-1705462510015-9261.png",
      "opts": "239,364:386,366:317,472:266,539"
    }
  ],
  "face_enhance": 0,
  "modifyImage": "https://d21ksh0k4smeql.cloudfront.net/bdd1c994c4cd7a58926088ae8a479168-1705462506461-1966.jpeg",
  "webhookUrl": ""
}';
$request = new Request('POST', 'https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyimage', $headers, $body);
$res = $client->sendAsync($request)->wait();
echo $res->getBody();
```

```python Python  
import requests
import json

url = "https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyimage"

payload = json.dumps({
  "sourceImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1694593694387-4562-0-1694593694575-0526.png",
      "opts": "262,175:363,175:313,215:272,279"
    }
  ],
  "targetImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705462509874-9254-0-1705462510015-9261.png",
      "opts": "239,364:386,366:317,472:266,539"
    }
  ],
  "face_enhance": 0,
  "modifyImage": "https://d21ksh0k4smeql.cloudfront.net/bdd1c994c4cd7a58926088ae8a479168-1705462506461-1966.jpeg",
  "webhookUrl": ""
})
headers = {
  'Authorization': 'Bearer token',
  'Content-Type': 'application/json'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
```

</CodeGroup>

**Response**

```json
{
  "code": 1000, // API returns status code 
  "msg": "Please be patient! If your results are not generated in three hours, please check your input image.", // Interface returns status information
  "data": {
    "_id": "6593c94c0ef703e8c055e3c8",  // Interface returns data
    "url": "https://***.cloudfront.net/final_71688047459_.pic-1704184129269-4947-f8abc658-fa82-420f-b1b3-c747d7f18e14-8535.jpg",    // faceswwap result url
    "job_id": "20240102082900592-5653"  // Task processing unique id
  }
}
```

## Video Face Swap

```
POST https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyvideo
```

**Request Headers**

| **Parameter** | **Value**        | **Description**                             |
|---------------|------------------|---------------------------------------------|
| Authorization | Bearer `{token}` | Your API Key used for request authorization |

**Body Attributes**

| **Parameter** | **Type** | **Value**                   | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|---------------|----------|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| sourceImage   | Array    | `[{path:"",opts:""}]`       | Replacement Target Image Information: The sourceImage should contain a collection of face links to be swapped. To obtain these links and key point data, pass your image through the [https://sg3.akool.com/detect](https://docs.akool.com/ai-tools-suite/faceswap#face-detect). Ensure the data corresponds to the order of the targetImage. Each image in the sourceImage must contain only one face, or the face swap may fail. Each element in the array is an object with two properties: path, which is the link to the detected face in the original image, and opts, which contains key information about the face, retrievable via the API using the landmarks_str value.                                                                                                                                            |
| targetImage   | Array    | `[{path:"",opts:""}]`       | Collection of Faces in the Original Video: targetImage represents the collection of faces detected after using modifyVideo. If the original video contains multiple faces, this includes the image link and key point data for each detected face. To obtain this data, pass the video through the [https://sg3.akool.com/detect](https://docs.akool.com/ai-tools-suite/faceswap#face-detect). Each element in the array is an object with two properties: path, which links to the faces detected in the target images, and opts, which holds key information about the detected faces, retrievable via the API using the landmarks_str value.                                                                                                                                                                               |
| face_enhance  | Int    | <p align="center">0 or 1</p>| Whether facial enhancement: "1" means open， "0" means close                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| modifyVideo   | String   |                             | ModifyImage represents the original image you need to change the face                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| webhookUrl    | String   |                             | Callback URL address based on HTTP request                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

**Response Attributes**

| **Parameter** | **Type**   | **Value**                     | **Description**                                                                          |
|-----------|--------|-------------------------------|-----------------------------------------------------------------------------------------|
| code      | Int  | <p align="center">1000</p> | API returns status code (1000: success)                                   |
| msg       | String |                               | API returns status message                                                  |
| data      | Object | <p align="center">`{_id:"",url: "",job_id: ""}`</p> | `_id`: Interface returns data URL: face Swap result URL job_id: Task processing unique id |

### Example

**Body**

```json
{
    "sourceImage": [    // Replacement target image information： sourceImage means that you need to change it to the link collection of the face you need. You need to pass your image through the https://sg3.akool.com/detect interface. Obtain the link and key point data and fill them here, and ensure that they correspond to the order of the targetImage. You need to pay attention to that each picture in the sourceImage must be a single face, otherwise the face change may fail.
        {
            "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705475757658-3362-0-1705475757797-3713.png",   // Links to faces detected in the original image
            "opts": "239,364:386,366:317,472:266,539"   // Key information of faces detected in original pictures【You can get it through the face https://sg3.akool.com/detect API,You only need to enter the first 4 items of the content array of the landmarks field of the returned data, and concatenate them into a string through ":", like this: ["434,433","588,449","509,558","432,614", "0,0", "0,0"] to "434,433:588,449:509,558:432,614"】
        }
    ],
    "targetImage": [    //  A collection of faces in the original video： targetImage represents the collection of faces after face detection using modifyVideo. When the original image has multiple faces, here is the image link and key point data of each face. You need to pass https://sg3.akool.com/detect interface to obtain data
        {
            "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705479323786-0321-0-1705479323896-7695.png",   // Links to faces detected in target images
            "opts": "176,259:243,259:209,303:183,328" // Key information of the face detected in the target image【You can get it through the face https://sg3.akool.com/detect API,You only need to enter the first 4 items of the content array of the landmarks field of the returned data, and concatenate them into a string through ":"， like this: ["1622,759","2149,776","1869,1085","1875,1345", "0,0", "0,0"] to "1622,759:2149,776:1869,1085:1875,1345"】
        }
    ],
    "face_enhance":0,
    "modifyVideo": "https://d21ksh0k4smeql.cloudfront.net/avatar_01-1705479314627-0092.mp4",    // modifyImage represents the original image you need to change the face;
    "webhookUrl":"" // Callback url address based on HTTP request

}
```


**Request**

<CodeGroup>

```bash cURL
curl --location 'https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyvideo' \
--header 'Authorization: Bearer token' \
--header 'Content-Type: application/json' \
--data '{
    "sourceImage": [
        {
            "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705475757658-3362-0-1705475757797-3713.png",
            "opts": "239,364:386,366:317,472:266,539"
        }
    ],
    "targetImage": [
        {
            "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705479323786-0321-0-1705479323896-7695.png",
            "opts": "176,259:243,259:209,303:183,328"
        }
    ],
    "face_enhance": 0,
    "modifyVideo": "https://d21ksh0k4smeql.cloudfront.net/avatar_01-1705479314627-0092.mp4",
    "webhookUrl":""

}'
```

```java Java 
OkHttpClient client = new OkHttpClient().newBuilder()
  .build();
MediaType mediaType = MediaType.parse("application/json");
RequestBody body = RequestBody.create(mediaType, "{\n    \"sourceImage\": [    \n        {\n            \"path\": \"https://d21ksh0k4smeql.cloudfront.net/crop_1705475757658-3362-0-1705475757797-3713.png\",   \n            \"opts\": \"239,364:386,366:317,472:266,539\"   \n        }\n    ],\n    \"targetImage\": [    \n        {\n            \"path\": \"https://d21ksh0k4smeql.cloudfront.net/crop_1705479323786-0321-0-1705479323896-7695.png\",   \n            \"opts\": \"176,259:243,259:209,303:183,328\" \n        }\n    ],\n    \"modifyVideo\": \"https://d21ksh0k4smeql.cloudfront.net/avatar_01-1705479314627-0092.mp4\",    \n    \"webhookUrl\":\"\" \n\n}");
Request request = new Request.Builder()
  .url("https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyvideo")
  .method("POST", body)
  .addHeader("Authorization", "Bearer token")
  .addHeader("Content-Type", "application/json")
  .build();
Response response = client.newCall(request).execute();
```

```js Javascript
const myHeaders = new Headers();
myHeaders.append("Authorization", "Bearer token");
myHeaders.append("Content-Type", "application/json");

const raw = JSON.stringify({
  "sourceImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705475757658-3362-0-1705475757797-3713.png",
      "opts": "239,364:386,366:317,472:266,539"
    }
  ],
  "targetImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705479323786-0321-0-1705479323896-7695.png",
      "opts": "176,259:243,259:209,303:183,328"
    }
  ],
 "face_enhance": 0,
  "modifyVideo": "https://d21ksh0k4smeql.cloudfront.net/avatar_01-1705479314627-0092.mp4",
  "webhookUrl": ""
});

const requestOptions = {
  method: "POST",
  headers: myHeaders,
  body: raw,
  redirect: "follow"
};

fetch("https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyvideo", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error(error));
```

```php PHP 
<?php
$client = new Client();
$headers = [
  'Authorization' => 'Bearer token',
  'Content-Type' => 'application/json'
];
$body = '{
  "sourceImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705475757658-3362-0-1705475757797-3713.png",
      "opts": "239,364:386,366:317,472:266,539"
    }
  ],
  "targetImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705479323786-0321-0-1705479323896-7695.png",
      "opts": "176,259:243,259:209,303:183,328"
    }
  ],
 "face_enhance": 0,
  "modifyVideo": "https://d21ksh0k4smeql.cloudfront.net/avatar_01-1705479314627-0092.mp4",
  "webhookUrl": ""
}';
$request = new Request('POST', 'https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyvideo', $headers, $body);
$res = $client->sendAsync($request)->wait();
echo $res->getBody();
```

```python Python 
import requests
import json

url = "https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyvideo"

payload = json.dumps({
  "sourceImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705475757658-3362-0-1705475757797-3713.png",
      "opts": "239,364:386,366:317,472:266,539"
    }
  ],
  "targetImage": [
    {
      "path": "https://d21ksh0k4smeql.cloudfront.net/crop_1705479323786-0321-0-1705479323896-7695.png",
      "opts": "176,259:243,259:209,303:183,328"
    }
  ],
 "face_enhance": 0,
  "modifyVideo": "https://d21ksh0k4smeql.cloudfront.net/avatar_01-1705479314627-0092.mp4",
  "webhookUrl": ""
})
headers = {
  'Authorization': 'Bearer token',
  'Content-Type': 'application/json'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
```

</CodeGroup>


**Response**

```json
{
  "code": 1000, // API returns status code 
  "msg": "Please be patient! If your results are not generated in three hours, please check your input image.", // Interface returns status information
  "data": {
    "_id": "6582bf774e47940151d8fa1e",  // db id
    "url": "https://***.cloudfront.net/final_1703067481578-7151-1703067481578-7151-470fbfbc-ab77-4868-a7f4-dbba1ec4f1c9-3478.jpg",  // faceswwap result url
    "job_id": "20231220101831489-3860"  // Task processing unique id
  }
}
```

## Get Face Swap Result List Byids

```
GET https://openapi.akool.com/api/open/v3/faceswap/result/listbyids?_ids=64ef2f27b33f466877701c6a
```


**Request Headers**

| **Parameter** |   **Value**    | **Description**                                                                                               |
|---------------|----------------|---------------------------------------------------------------------------------------------------------------|
| Authorization | Bearer `{token}` | Your API Key used for request authorization. [getToken](https://docs.akool.com/authentication/usage#get-the-token) |


**Query Attributes**

| **Parameter** | **Type**   | **Value** | **Description**                                                                                                                                                                                                                          |
|-----------|--------|-------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| _ids      | String |       | result ids are strings separated by commas【You can get it by returning the _id field from [https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyimage](https://docs.akool.com/ai-tools-suite/faceswap#image-faceswap) or [https://openapi.akool.com/api/open/v3/faceswap/highquality/specifyvideo](https://docs.akool.com/ai-tools-suite/faceswap#video-faceswap) api.】 |

**Response Attributes**

| Parameter | Type   | Value                                                                        | Description                                                                                                                                                   |
|-----------|--------|------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| code      | Int  | <p align="center">1000</p>                                                   | API returns status code  (1000: success)                                                                                                         |
| msg       | String |                                                                              | API returns status message                                                                                                                        |
| data      | Object | <p align="center">`result: [{faceswap_status:"",url: "",createdAt: ""}]`</p> | faceswap_status: faceswap result status: 1 In Queue 2 Processing 3 Success 4 failed URL: face swap result URL createdAt: current face swap action created time |

### Example

**Request**

<CodeGroup>
  

```bash cURL
curl --location 'https://openapi.akool.com/api/open/v3/faceswap/result/listbyids?_ids=64ef2f27b33f466877701c6a' \
--header 'Authorization: Bearer token'
```

```java Java 
OkHttpClient client = new OkHttpClient().newBuilder()
  .build();
MediaType mediaType = MediaType.parse("text/plain");
RequestBody body = RequestBody.create(mediaType, "");
Request request = new Request.Builder()
  .url("https://openapi.akool.com/api/open/v3/faceswap/result/listbyids?_ids=64ef2f27b33f466877701c6a")
  .method("GET", body)
  .addHeader("Authorization", "Bearer token")
  .build();
Response response = client.newCall(request).execute();
```

```js Javascript
const myHeaders = new Headers();
myHeaders.append("Authorization", "Bearer token");

const requestOptions = {
  method: "GET",
  headers: myHeaders,
  redirect: "follow"
};

fetch("https://openapi.akool.com/api/open/v3/faceswap/result/listbyids?_ids=64ef2f27b33f466877701c6a", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error(error));
```

```php PHP 
<?php
$client = new Client();
$headers = [
  'Authorization' => 'Bearer token'
];
$request = new Request('GET', 'https://openapi.akool.com/api/open/v3/faceswap/result/listbyids?_ids=64ef2f27b33f466877701c6a', $headers);
$res = $client->sendAsync($request)->wait();
echo $res->getBody();
```

```python Python 
import requests

url = "https://openapi.akool.com/api/open/v3/faceswap/result/listbyids?_ids=64ef2f27b33f466877701c6a"

payload = {}
headers = {
  'Authorization': 'Bearer token'
}

response = requests.request("GET", url, headers=headers, data=payload)

print(response.text)
```

</CodeGroup>

**Response**

```json
{
  "code": 1000,   // error code
  "msg": "OK",    // api message
  "data": {
    "result": [
      {
        "faceswap_type": 1,
        "faceswap_quality": 2,
        "faceswap_status": 1,   // faceswap result status: 1 In Queue 2 Processing 3 Success 4 failed
        "deduction_status": 1,
        "image": 1,
        "video_duration": 0,
        "deduction_duration": 0,
        "update_time": 0,
        "_id": "64dae65af6e250d4fb2bca63",
        "userId": "64d985c5571729d3e2999477",
        "uid": 378337,
        "url": "https://d21ksh0k4smeql.cloudfront.net/final_material__d71fad6e-a464-43a5-9820-6e4347dce228-80554b9d-2387-4b20-9288-e939952c0ab4-0356.jpg", // faceswwap result url
        "createdAt": "2023-08-15T02:43:38.536Z"    // current faceswap action created time
      }
    ]
  }
}
```

## Get Face Swap User Credit Info

```
GET https://openapi.akool.com/api/open/v3/faceswap/quota/info
```


**Request Headers**

| **Parameter**  | **Value**       | **Description**                                          |
|----------------|-----------------|----------------------------------------------------------|
| Authorization  | Bearer `{token}`| Your API Key used for request authorization. [getToken](https://docs.akool.com/authentication/usage#get-the-token)              |

**Response Attributes**

| Parameter | Type   | Value                                                               | Description                                           |
|-----------|--------|---------------------------------------------------------------------|-------------------------------------------------------|
| code      | Int  | <p align="center">1000</p>| API returns status code (1000: success) |
| msg       | String |                                                                     | API returns status message                |
| data      | Object | <p align="center">`{"credit": 0 }`</p>                              | credit:  Account balance                              |

### Example

**Request**

<CodeGroup>
  

```bash
curl --location 'https://openapi.akool.com/api/open/v3/faceswap/quota/info' \
--header 'Authorization: Bearer token'
```

```java Java 
OkHttpClient client = new OkHttpClient().newBuilder()
  .build();
MediaType mediaType = MediaType.parse("text/plain");
RequestBody body = RequestBody.create(mediaType, "");
Request request = new Request.Builder()
  .url("https://openapi.akool.com/api/open/v3/faceswap/quota/info")
  .method("GET", body)
  .addHeader("Authorization", "Bearer token")
  .build();
Response response = client.newCall(request).execute();
```

```js Javascript 
const myHeaders = new Headers();
myHeaders.append("Authorization", "Bearer token");

const requestOptions = {
  method: "GET",
  headers: myHeaders,
  redirect: "follow"
};

fetch("https://openapi.akool.com/api/open/v3/faceswap/quota/info", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error(error));
```

```php PHP 
<?php
$client = new Client();
$headers = [
  'Authorization' => 'Bearer token'
];
$request = new Request('GET', 'https://openapi.akool.com/api/open/v3/faceswap/quota/info', $headers);
$res = $client->sendAsync($request)->wait();
echo $res->getBody();
```

```python Python 
import requests

url = "https://openapi.akool.com/api/open/v3/faceswap/quota/info"

payload = {}
headers = {
  'Authorization': 'Bearer token'
}

response = requests.request("GET", url, headers=headers, data=payload)

print(response.text)
```

</CodeGroup>

**Response**

```json
{
  "code": 1000, // Business status code
  "msg": "OK",  // The interface returns status information
  "data": {
    "credit": 0 // Account balance
  }
}
```

## POST Face Swap Result Del Byids

```
POST https://openapi.akool.com/api/open/v3/faceswap/result/delbyids
```

**Request Headers**

| **Parameter** | **Value**        | **Description**                             |
|---------------|------------------|---------------------------------------------|
| Authorization | Bearer `{token}` | Your API Key used for request authorization. [getToken](https://docs.akool.com/authentication/usage#get-the-token) |


**Body Attributes**

| **Parameter** | Type   | Value | Description                                |
|---------------|--------|-------|--------------------------------------------|
| _ids          | String |       | Result ids are strings separated by commas |

**Response Attributes**

| **Parameter** | Type   | Value | Description                                          |
|---------------|--------|-------|------------------------------------------------------|
| code          | Int  | 1000  | API returns status code  (1000:success) |
| msg           | String |       | API returns status message               |


### Example

**Body**

```json
{
    "_ids":""//result ids are strings separated by commas
}
```

**Request**

<CodeGroup>

```bash cURL

curl --location 'https://openapi.akool.com/api/open/v3/faceswap/result/delbyids' \
--header 'Authorization: Bearer token' \
--header 'Content-Type: application/json' \
--data '{
    "_ids":""
}'
```

```java Java 
OkHttpClient client = new OkHttpClient().newBuilder()
  .build();
MediaType mediaType = MediaType.parse("application/json");
RequestBody body = RequestBody.create(mediaType, "{\n    \"_ids\":\"\"\n}");
Request request = new Request.Builder()
  .url("https://openapi.akool.com/api/open/v3/faceswap/result/delbyids")
  .method("POST", body)
  .addHeader("Authorization", "Bearer token")
  .addHeader("Content-Type", "application/json")
  .build();
Response response = client.newCall(request).execute();
```

```js JavaScript 
const myHeaders = new Headers();
myHeaders.append("Authorization", "Bearer token");
myHeaders.append("Content-Type", "application/json");

const raw = JSON.stringify({
  "_ids": ""
});

const requestOptions = {
  method: "POST",
  headers: myHeaders,
  body: raw,
  redirect: "follow"
};

fetch("https://openapi.akool.com/api/open/v3/faceswap/result/delbyids", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error(error));
```

```php PHP 
<?php
$client = new Client();
$headers = [
  'Authorization' => 'Bearer token',
  'Content-Type' => 'application/json'
];
$body = '{
  "_ids": ""
}';
$request = new Request('POST', 'https://openapi.akool.com/api/open/v3/faceswap/result/delbyids', $headers, $body);
$res = $client->sendAsync($request)->wait();
echo $res->getBody();
```

```python Python 
import requests
import json

url = "https://openapi.akool.com/api/open/v3/faceswap/result/delbyids"

payload = json.dumps({
  "_ids": ""
})
headers = {
  'Authorization': 'Bearer token',
  'Content-Type': 'application/json'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
```

</CodeGroup>

**Response**

```json
{
  "code": 1000, // Business status code
  "msg": "OK"   // The interface returns status information
}
```

## Face Detect

```
POST https://sg3.akool.com/detect
```

**Request Headers**

| **Parameter** | **Value**        | **Description**                             |
|---------------|------------------|---------------------------------------------|
| Authorization | Bearer `{token}` | Your API Key used for request authorization. [getToken](https://docs.akool.com/authentication/usage#get-the-token) |

**Body Attributes**

| Parameter   | Type    | Value      | Description                                                                                                                                           |
|-------------|---------|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| single_face | Boolean | true/false | It is a single face picture: This should be true when the incoming picture has only one face, and false when the incoming picture has multiple faces. |
| image_url   | String  |            | Image link: You can choose to enter this parameter or the img parameter.                                                                              |
| img         | String  |            | Image base64 information: You can choose to enter this parameter or the image_URL parameter.                                                          |

**Response Attributes**

| **Parameter**  | Type     | Value                   | Description                                       |
|----------------|----------|-------------------------|---------------------------------------------------|
| error_code     | Int    | <p align="center">0</p> | API returns status code (0:success)               |
| error_msg      | String   |                         | Error message of this API                         |
| landmarks      | Array    | <p align="center">[]</p>| Key point data of face                            |

### Example

**Body**

```json
{
  "single_face": false, // Is it a single face picture: This should be true when the incoming picture has only one face, and false when the incoming picture has multiple faces.
  "image_url":"https://d21ksh0k4smeql.cloudfront.net/IMG_6150-1696984459910-0610.jpeg",   // image link：You can choose to enter this parameter or the img parameter.
  "img": "data:image/jpeg;base64***"    // Image base64 information：You can choose to enter this parameter or the image_url parameter.
}
```

**Request**

<CodeGroup>

```bash cURL
curl --location 'https://sg3.akool.com/detect' \
--header 'Authorization: Bearer token' \
--header 'Content-Type: application/json' \
--data '{
  "single_face": false,
  "image_url":"https://d21ksh0k4smeql.cloudfront.net/IMG_6150-1696984459910-0610.jpeg",
  "img": "data:image/jpeg;base64***"
}'
```

```java Java 
OkHttpClient client = new OkHttpClient().newBuilder()
  .build();
MediaType mediaType = MediaType.parse("application/json");
RequestBody body = RequestBody.create(mediaType, "{\n  \"single_face\": false, \n  \"image_url\":\"https://d21ksh0k4smeql.cloudfront.net/IMG_6150-1696984459910-0610.jpeg\",   \n  \"img\": \"data:image/jpeg;base64***\"    \n}");
Request request = new Request.Builder()
  .url("https://sg3.akool.com/detect")
  .method("POST", body)
  .addHeader("Authorization", "Bearer token")
  .addHeader("Content-Type", "application/json")
  .build();
Response response = client.newCall(request).execute();
```

```js Javascript 
const myHeaders = new Headers();
myHeaders.append("Authorization", "Bearer token");
myHeaders.append("Content-Type", "application/json");

const raw = JSON.stringify({
  "single_face": false,
  "image_url": "https://d21ksh0k4smeql.cloudfront.net/IMG_6150-1696984459910-0610.jpeg",
  "img": "data:image/jpeg;base64***"
});

const requestOptions = {
  method: "POST",
  headers: myHeaders,
  body: raw,
  redirect: "follow"
};

fetch("https://sg3.akool.com/detect", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error(error));
```

```php PHP 
<?php
$client = new Client();
$headers = [
  'Authorization' => 'Bearer token',
  'Content-Type' => 'application/json'
];
$body = '{
  "single_face": false,
  "image_url": "https://d21ksh0k4smeql.cloudfront.net/IMG_6150-1696984459910-0610.jpeg",
  "img": "data:image/jpeg;base64***"
}';
$request = new Request('POST', 'https://sg3.akool.com/detect', $headers, $body);
$res = $client->sendAsync($request)->wait();
echo $res->getBody();
```

```python Python 
import requests
import json

url = "https://sg3.akool.com/detect"

payload = json.dumps({
  "single_face": False,
  "image_url": "https://d21ksh0k4smeql.cloudfront.net/IMG_6150-1696984459910-0610.jpeg",
  "img": "data:image/jpeg;base64***"
})
headers = {
  'Authorization': 'Bearer token',
  'Content-Type': 'application/json'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
```

</CodeGroup>

**Response**

```json
{
  "error_code": 0,  // error code: 0 is seccuss
  "error_msg": "SUCCESS",   // error message of this api
  "landmarks": [    // Key point data of face
    [
            [
                238,365
            ],
            [
                386,363
            ],
            [
                318,470
            ],
            [
                267,539
            ],
            [
                0,0
            ],
            [
                0,0
            ]
        ]
  ],
  "landmarks_str": [
        "238,365:386,363:318,470:267,539"
    ],
  "region": [
        [
            150,195,317,429
        ]
    ],
  "seconds": 0.04458212852478027,   // API time-consuming
  "trx_id": "74178dc5-199a-479a-89d0-4b0e1c161219"
}
```
## Response Code Description

<Note> Please note that if the value of the response code is not equal to 1000, the request is failed or wrong</Note>
| **Parameter** | **Value** | **Description**                                      |
|---------------|-----------|------------------------------------------------------|
| code          | 1000      | Request completed successfully |
| code          | 1003      | Invalid or missing parameters |
| code          | 1005      | Requests are being made too frequently |
| code          | 1006      | Your available quota is not enough  |
| code          | 1007      | The number of people who can have their faces changed cannot exceed 8  |
| code          | 1101      | Invalid authorization or the request token has expired  |
| code          | 1102      | Authorization cannot be empty  |
| code          | 1200      | The account has been suspended |